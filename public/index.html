<!DOCTYPE html>
<html>
  <body>
    <h1>WebSocket Demo</h1>
    <strong>Server returned data: </strong>
    <p id="d">
    </p>
    <button onClick="start()">开启行情</button>

    <script>
      var host = window.document.location.host.replace(/:.*/, '')
      var ws = new WebSocket('ws://' + host + ':9000/websocket')
      //wss://api.huobipro.com/ws
      // var ws = new WebSocket('wss://api.huobipro.com/ws')
      ws.onmessage = function (e) {
        console.log(e)
        document.getElementById('d').innerText = e.data
      }
      ws.onopen = function () {

      }

      function start () {
        ws.send(JSON.stringify({
          channel: 'kline',
          interval: '1m',
          event: '',
          symbol: ''
        }))
      }
    </script>
  </body>
</html>
